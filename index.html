<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="recursos/css/estilos.css">
  <!-- <script src="recursos/js/main.js"></script> -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
  <div class="ancho-pantalla-completa">
    <div id="barra-escondida" class="alto-pantalla-completa" >
      <div id="frase-telon" class="frase-telon">
        “Que toda la vida es sueño,</br>
        y los sueños,</br>
        sueños son.”
      </div>
      <div id="icono-scroll-abajo" class="scroll-abajo boton">
        <img src="./recursos/img/scroll abajo.png" alt="scroll abajo">
      </div>
      <div id="telon" class="telon"></div>
      <div class="escenario">
        <div id="pag-intro" class="intro">
          <div class="titulo">Parqués</div>
          <div class="centrar-horizontal">
            <div class="video-instructivo"></div>
          </div>
          <div class="centrar-horizontal">
            <div id="btn-comenzar" class="btn-comenzar boton">
              <img src="./recursos/img/icono dado.png" alt="dado">
              Comenzar
            </div>
          </div>
        </div>
        <div id="pag-seleccion-personajes" class="seleccion-personajes">
          <div class="centrar-horizontal">
            <div class="tablero">
              <img src="./recursos/img/tablero.png" alt="tablero parqués">
            </div>
            <div id="btn-regresar" class="btn-comenzar boton">
              Regresar
              <img src="./recursos/img/icono ficha caida.png" alt="ficha caida">
            </div>
          </div>
        </div>
        </div>
      </div>
  </div>
  <!-- <video id="obra_teatro" class="video" muted="true" src="recursos/video/plano_secuencia.mp4"></video>
  <img id="dado" src="recursos/img/dado.gif" alt="dado"> -->
  <script>
    const barraEscondida = $("#barra-escondida");
    const fraseTelon = $("#frase-telon");
    const iconoScrollAbajo = $("#icono-scroll-abajo");
    const telon = $("#telon");
    const btnComenzar = $("#btn-comenzar");
    const pagIntro = $("#pag-intro");
    const pagSeleccionPersonajes = $("#pag-seleccion-personajes");
    const btnRegresar = $("#btn-regresar");

    const scrollMaximo = barraEscondida[0].scrollHeight - barraEscondida.outerHeight();
    var porcentajeScroll = 0;

    barraEscondida.scroll(function() {
      porcentajeScroll = barraEscondida.scrollTop() / scrollMaximo;

      iconoScrollAbajo.css("opacity", 1 - (2 * porcentajeScroll));
      fraseTelon.css("opacity", 1 - (2 * porcentajeScroll));
      telon.css("opacity", 1 - (0.8 * porcentajeScroll));

      if (porcentajeScroll > 0.6) {
        iconoScrollAbajo.hide();
      } else {
        iconoScrollAbajo.show();
      }
    });

    iconoScrollAbajo.click(function() {
      subirTelon();
    });

    btnComenzar.click(function() {
      pagIntro.fadeOut(500, subirTelon());
      pagSeleccionPersonajes.delay(200).fadeIn(400);
    });

    btnRegresar.click(function () {
      bajarTelon();
      pagIntro.delay(600).fadeIn();
      pagSeleccionPersonajes.delay(600).fadeOut();
    });

    function subirTelon() {
      barraEscondida.animate({ scrollTop: $(document).height() }, 1000);
    }

    function bajarTelon() {
      barraEscondida.animate({ scrollTop: 0 }, 1000);
    }
  </script>
</body>
</html>